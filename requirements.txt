streamlit==1.39.0
pandas==2.0.3
google-generativeai
grpcio-status==1.67.1

# Makefile for setting up environment and managing dependencies

# Define variables
VENV_NAME = venv
PYTHON = python3
PIP = $(VENV_NAME)/bin/pip
ACTIVATE = $(VENV_NAME)/bin/activate
REQUIREMENTS = requirements.txt

# Create virtual environment
venv:
	@echo "Creating virtual environment..."
	$(PYTHON) -m venv $(VENV_NAME)
	@echo "Virtual environment created."

# Install dependencies
install: venv
	@echo "Installing dependencies..."
	$(PIP) install -r $(REQUIREMENTS)
	@echo "Dependencies installed."

# Update dependencies
update:
	@echo "Updating dependencies..."
	$(PIP) install --upgrade -r $(REQUIREMENTS)
	@echo "Dependencies updated."

# Run tests
test:
	@echo "Running tests..."
	$(VENV_NAME)/bin/python -m unittest discover -s tests
	@echo "Tests complete."

# Clean virtual environment
clean:
	@echo "Removing virtual environment..."
	rm -rf $(VENV_NAME)
	@echo "Virtual environment removed."

# Install protobuf if needed
install-protobuf:
	@echo "Installing protobuf..."
	$(PIP) install protobuf
	@echo "Protobuf installed."

# Run all tasks: setup environment, install dependencies, and run tests
setup: install test

# Default target
all: setup
